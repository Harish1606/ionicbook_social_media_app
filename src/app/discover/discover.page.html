<ion-header>
  <ion-toolbar color="primary">
    <ion-grid>
      <ion-row>
        <ion-col size="1">
          <div (click)="goBack()">
            <ion-icon color="light" style="font-size: 30px; vertical-align: middle; display: inline-block;" name="arrow-back-outline"></ion-icon>
          </div>
        </ion-col>
        <ion-col size="7" style="text-align: start;">
          <ion-text color="light" class="text">
            Discover people
          </ion-text>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>
<ion-segment style="margin-top: 10px;">
  <ion-searchbar #search (ionChange)="searchUsers($event)"></ion-searchbar>
</ion-segment>

<ion-content>
  <div *ngIf="busy">
    <ion-list>
      <ion-item *ngFor="let u of searchedItem;let i=index">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <ion-avatar style="height: 40px; width: 40px;">
                <ion-skeleton-text animated></ion-skeleton-text>
              </ion-avatar>
            </ion-col>
            <ion-col size="6">
              <ion-label>
                <h2><ion-skeleton-text animated style="width: 40%;"></ion-skeleton-text></h2>
                <p><ion-skeleton-text animated style="width: 90%;"></ion-skeleton-text></p>
              </ion-label>
            </ion-col>
            <ion-col size="4">
              <ion-label>
                <ion-button expand="block" color="medium" fill="outline"><ion-skeleton-text animated></ion-skeleton-text></ion-button>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
  
  <div *ngIf="!busy">
    <ion-list>
      <ion-item *ngFor="let u of searchedItem;let i=index">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <ion-avatar style="height: 40px; width: 40px;" (click)="goToProfile(u.uid)">
                <img src="https://ucarecdn.com/{{u.profilePic}}/-/scale_crop/200x200/center/">
              </ion-avatar>
            </ion-col>
            <ion-col size="6">
              <ion-label (click)="goToProfile(u.uid)">
                <h2>{{u.name}}</h2>
                <p>{{u.bio}}</p>
              </ion-label>
            </ion-col>
            <ion-col size="4">
              <ion-label>
                <ion-button expand="block" color="primary" fill="outline" (click)="toggle(u.uid,i)">{{u.follow}}</ion-button>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
